function setCopyBtn(){$(".CopyToClipboard").each(function(){var t=new ZeroClipboard.Client;t.setHandCursor(!0),t.addEventListener("load",function(t){}),t.addEventListener("mouseOver",function(t){var e=t.movie.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),t.setText(e)}),t.addEventListener("complete",function(t,e){alert("代码已经复制到你的剪贴板。")}),t.glue(this,this.parentNode)})}function computePos(){"object"==typeof toolBar&&(toolBar.setPosX(),toolBar.computePositon())}function baidudatatemp(t,e){var o=highlight.map(function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")});o="("+o.join("|")+")";var n=new RegExp(o,"gi"),i=/<[^>]*>/g,a=t["abstract"].replace(i,"").replace(n,"<em>$1</em>"),s=t.dispTime.replace(/^(\d*)-/,""),r=t.linkUrl,c=t.title.replace(i,"").replace(n,"<em>$1</em>"),l='<div class="recommend-item-box baiduSearch" data-report-view=\'{"mod":"popu_'+("skin3-template"==curSkin?"387":"614")+'","dest":"'+r+'","strategy":"searchFromBaidu1","ab":"new","index":"'+e+'"}\'>                  <h4 class="text-truncate oneline"><a href="'+r+'" target="_blank" data-report-click=\'{"mod":"popu_'+("skin3-template"==curSkin?"387":"614")+'","dest":"'+r+'","strategy":"searchFromBaidu1","ab":"new","index":"'+e+'"}\' data-report-query="utm_medium=distribute.pc_relevant.none-task-blog-baidujs-'+e+'">'+c+'</a></h4><div class="info-box d-flex align-content-center"><p><span class="date">'+s+'</span></p></div><div class="desc"><a href="'+r+'" target="_blank" data-report-click=\'{"mod":"popu_'+("skin3-template"==curSkin?"387":"614")+'","dest":"'+r+'","strategy":"searchFromBaidu1","ab":"new","index":"'+e+'"}\' data-report-query="utm_medium=distribute.pc_relevant.none-task-blog-baidujs-'+e+'">'+a+"</a></div></div>";return l}function trackByGraylog(t,e){var o=window.location.protocol+"//statistic.csdn.net/";$.get(o+t,e)}function remoteData(){var t=function(){window.csdn.isRunBaidu||(showResult(),window.csdn.isRunBaidu=void 0)};baiduKey?(csdn.afterCasInit=function(e,o){return e?void csdn.baiduSearch(e,function(e){needInsertBaidu?(window.csdn.isRunBaidu=!0,showResult(e)):t()}):(t(),!1)},csdn.baiduSearchInstallError=t,setTimeout(t,2e3)):showResult()}function trackAddblogKey(t,e,o,n){var i=/("con"\:)"(.*)"/;t=t.replace(i,function(t,e,n){return e+'"'+n+",index_"+o+'"'}),t=JSON.parse(t),$(e).data(n,t)}function trackAddBaiduKey(t,e){return e+=1,t=$(t).get(0),t.setAttribute("data-flg","true"),$(t).addClass("recommend-box-ident"),t=t.outerHTML,window.csdn.trackRecord.baiduTrackCount=e,{insertObj:t,j:e}}function trackAdd(t,e,o){var n;"article"===e&&(n=$(".recommend-box").children("div.recommend-item-box").not("[data-flg]"));for(var i=0;i<n.length;i++){var a=n[i].dataset.trackView,s=n[i].dataset.trackClick;(a||s)&&(t+=1,window.csdn.trackRecord.articleTrackCount=t,n[i].setAttribute("data-flg","true")),a&&trackAddblogKey(a,n[i],t,"trackView"),s&&trackAddblogKey(s,n[i],t,"trackClick")}o&&o(n)}function showResult(t){var e=[],o=window.csdn.trackRecord.articleTrackCount;trackAdd(o,"article",function(o){var n,i,a,s,r=1,c=recommendRegularDomainArr||["blog.csdn.net/.+/article/details/","download.csdn.net/download/","edu.csdn.net/course/detail/ "],l=new RegExp(c.join("|"));if(!t||t.length<=0)return!1;if(t&&t.length>0)for(var d=0;d<t.length;d++)curentUrl.indexOf(t[d].linkUrl.split("?")[0])===-1&&l.test(t[d].linkUrl)&&""!==t[d].title&&d<10&&e.push(baidudatatemp(t[d],d+1));if(e&&e.length>0){s=window.csdn.trackRecord.baiduTrackCount;for(var d=r;d<=o.length;d+=2){var m=d-r+1;if(i=e[m-1]?e[m-1]:"",a=e[m]?e[m]:"",!($(o[d])&&$(o[d]).length>0))break;i&&(n=trackAddBaiduKey(i,s),i=n.insertObj,s=n.j),a&&(n=trackAddBaiduKey(a,s),a=n.insertObj,s=n.j),$(o[d]).after(i+a),s=window.csdn.trackRecord.baiduTrackCount}}if(e.length>0){var p=o.length%2===0?o.length:o.length-1;if(o.length<e.length)for(var d=e.length-1;d>p;d--){var h=$(".recommend-box").children("div.recommend-item-box").last();e[d]&&(n=trackAddBaiduKey(e[d],s),s=n.j),n.insertObj&&h.after(n.insertObj)}}})}var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"https://csdnimg.cn/public/highlighter/ZeroClipboard.swf",nextId:1,$:function(t){return"string"==typeof t&&(t=document.getElementById(t)),t.hide=function(){this.style.display="none"},t.show=function(){this.style.display="block"},t.addClass=function(t){this.removeClass(t),this.className+=" "+t},t.removeClass=function(t){for(var e=this.className.split(/\s+/),o=-1,n=0;n<e.length;n++)e[n]==t&&(o=n,n=e.length);return o>-1&&(e.splice(o,1),this.className=e.join(" ")),this},t.hasClass=function(t){return!!this.className.match(new RegExp("\\s*"+t+"\\s*"))},t},setMoviePath:function(t){this.moviePath=t},dispatch:function(t,e,o){var n=this.clients[t];n&&n.receiveEvent(e,o)},register:function(t,e){this.clients[t]=e},getDOMObjectPosition:function(t,e){for(var o={left:0,top:0,width:t.width?t.width:t.offsetWidth,height:t.height?t.height:t.offsetHeight};t&&t!=e;)o.left+=t.offsetLeft,o.top+=t.offsetTop,t=t.offsetParent;return o},Client:function(t){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),t&&this.glue(t)}};if(ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(t,e,o){this.domElement=ZeroClipboard.$(t);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof e?e=ZeroClipboard.$(e):"undefined"==typeof e&&(e=document.getElementsByTagName("body")[0]);var i=ZeroClipboard.getDOMObjectPosition(this.domElement,e);this.div=document.createElement("div");var a=this.div.style;if(a.position="absolute",a.left=""+i.left+"px",a.top=""+i.top+"px",a.width=""+i.width+"px",a.height=""+i.height+"px",a.zIndex=n,"object"==typeof o)for(addedStyle in o)a[addedStyle]=o[addedStyle];e.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height)},getHTML:function(t,e){var o="",n="id="+this.id+"&width="+t+"&height="+e;if(navigator.userAgent.match(/MSIE/)){var i=location.href.match(/^https/i)?"https://":"http://";o+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+t+'" height="'+e+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else o+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+t+'" height="'+e+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return o},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var t=document.getElementsByTagName("body")[0];try{t.removeChild(this.div)}catch(e){}this.domElement=null,this.div=null}},reposition:function(t){if(t&&(this.domElement=ZeroClipboard.$(t),this.domElement||this.hide()),this.domElement&&this.div){var e=ZeroClipboard.getDOMObjectPosition(this.domElement),o=this.div.style;o.left=""+e.left+"px",o.top=""+e.top+"px"}},setText:function(t){this.clipText=t,this.ready&&this.movie.setText(t)},addEventListener:function(t,e){t=t.toString().toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},setHandCursor:function(t){this.handCursorEnabled=t,this.ready&&this.movie.setHandCursor(t)},setCSSEffects:function(t){this.cssEffects=!!t},receiveEvent:function(t,e){switch(t=t.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var o=this;return void setTimeout(function(){o.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var o=this;return setTimeout(function(){o.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[t])for(var n=0,i=this.handlers[t].length;n<i;n++){var a=this.handlers[t][n];"function"==typeof a?a(this,e):"object"==typeof a&&2==a.length?a[0][a[1]](this,e):"string"==typeof a&&window[a](this,e)}}},$(document).ready(function(){$(".article_content pre").each(function(){var t=$(this);if(void 0!=t.attr("class")){if(t.attr("class").indexOf("brush:")!=-1){var e=t.attr("class").split(";")[0].split(":")[1];t.attr("name","code"),t.attr("class",e)}t.attr("class")&&t.attr("name","code")}}),$(".article_content textarea[name=code]").each(function(){var t=$(this);t.attr("class").indexOf(":")!=-1&&t.attr("class",t.attr("class").split(":")[0])}),window.clipboardData||setTimeout("setCopyBtn()",500)}),function(t){function e(t,e){var o=e-t+1;return Math.floor(Math.random()*o+t)}t.fn.extend({selection:function(){var e="",o=this[0];if(document.selection){var n=document.selection.createRange();e=n.text}else if("number"==typeof o.selectionStart){var i=o.selectionStart,a=o.selectionEnd;i!=a&&(e=o.value.substring(i,a))}return t.trim(e)},parseHtml:function(e){var o=this[0],n=t(this).val();if(document.selection){var i=document.selection.createRange();i.text?i.text=e:t(this).val(n+e)}else if("number"==typeof o.selectionStart){var a=o.selectionStart,s=o.selectionEnd,r=n.substring(0,a),c=n.substring(s);t(this).val(r+e+c)}else t(this).val(n+e);o.selectionStart=o.selectionEnd=t(this).val().length,o.focus()}});var o=t("div.pulllog-box");o.find("button.btn-close").click(function(){o.remove()}),o.find(".pulllog-login").click(function(t){getCookie("UserName")?window.location.reload():(window.csdn.loginBox.show(),t.preventDefault())});var n=function(e){var e=e?e:"body",o=t(e+" img"),n=navigator.userAgent.toLowerCase();return 0!==o.length&&(0===t(".imgViewDom").length&&(t("body").append('<div class="imgViewDom disnone" style="display: none;"><img src=""></div>'),t("body").append("<style>.imgViewDom{display:none;position:fixed;top:0;left:0;height:100%;width:100%;z-index:99999999;background: rgba(255, 255, 255,0.8);overflow: auto;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;display:-moz-box;-moz-box-align:center;-moz-box-pack:center;display:-o-box;-o-box-align:center;-o-box-pack:center;display:-ms-box;-ms-box-align:center;-ms-box-pack:center; display:box;box-align:center;box-pack:center;}.imgViewDom img{cursor: zoom-out;}</style>"),t(".imgViewDom").on("click",function(){n.indexOf("windows ")>-1?t("body").css({overflow:"auto","margin-left":"0"}):t("body").css({overflow:"auto"}),t(".imgViewDom").fadeOut(500).children("img").attr("src","")})),void o.bind("click",function(e){e.currentTarget.src&&(t(".imgViewDom").fadeIn(500).children("img").css({width:e.currentTarget.naturalWidth,height:e.currentTarget.naturalheight}).attr("src",e.currentTarget.src),n.indexOf("windows ")>-1?t("body").css({overflow:"hidden","margin-left":"-17px"}):t("body").css({overflow:"hidden"}))}))};window.CSDNviewImg=n,window.csdn=window.csdn||{},window.csdn.random_num=e}(jQuery),function(){function t(){o.hasClass("no-login")||($("div.article_content").removeAttr("style"),0==$(".column-mask").length&&$(".hide-article-box").hide(),o.hasClass("fans_read_more")&&($("#btnAttent").hasClass("attented")||$("#btnAttent").trigger("click")))}function e(e,o){var n=$(window).height(),i=$("div.article_content"),a=i.height();$("#btn-readmore").attr("height",o),a>n*o?(i.css({height:n*o+"px",overflow:"hidden"}),e.click(t)):e.parent().hide()}var o=$(".btn-readmore");$(".article-footer-bookmark-btn").click(window.csdn.articleCollection),o.length>0||$(".vip-mask").length>0?currentUserName?e(o,3):e(o,2):0==$(".column-mask").length&&$(".hide-article-box").addClass("hide-article-style");var n=window.location.hash,i=RegExp(/\#/);n.match(i)&&($(".btn-readmore").parent().hide(),$("div.article_content").removeAttr("style")),window.csdn=window.csdn?window.csdn:{},window.csdn.clearReadMoreBtn=t}(),$(function(){function t(){this.commentForm=$("#commentform"),this.txtComment=$("#comment_content"),this.btnShowMore=$("#btnMoreComment"),this.commentBox=$("div.comment-list-box"),this.commentPagination=$("#commentPage"),this.commentCountObj=this.commentForm.find("em"),this.commentTxt=$("#comment_replyId"),this.cancelBtn=$(".btn-cancel"),this.curH=0,this.pageCount=0,this.pageIndex=1,this.curFloor=1,this.commentCount=0,this.commentPageObj=null,this.commentFontLimit=1e3,this.firstLoad=!0,this.pageSize=10,this.showAll=!1,this.initTxt(),this.init(),this.firstLoad=!1,this.bindBtn(),this.bindTxt(),this.commentCode(),this.comment(),this.cancelBtnBindEvent(),this.getPagination=function(t){var e=function(e,o){if(e){o.pageCount=e.page_count,o.commentCount=e.floor_count,o.commentPageObj.render({count:e.floor_count,current:t}),o.renderData(e.list);var n=$(".comment-box").offset().top-44;$(document).scrollTop(n)}};this.getData(t,e)},this.bindLikedClick()}function e(t){username===t.UserName?isBloger='<img class="is_bloger" src="'+blogUrl+'static_files/static_blog/images/bloger@2x.png""/>':isBloger=""}function o(){$(document).on("click",".btn-heart .comment-like",function(){if(!getCookie("UserName"))return window.csdn.loginBox.show(),!1;var t=$(this).hasClass("liked")?"undigg":"digg",e=$(this).data("commentid"),o=this;$.post(digg_base_url+"/phoenix/comment/"+t,{article_id:articleId,comment_id:e},function(t){var e=$(o).find("span").text()?parseInt($(o).find("span").text()):0;if($(o).hasClass("liked")){var n=e-1;n=n>0?n:"",$(o).removeClass("liked"),$(o).find(".unclickImg").css("display","inline-block"),$(o).find(".clickedImg").css("display","none"),$(o).find("span").text(n).css("color","#999AAA")}else $(o).addClass("liked"),$(o).find(".unclickImg").css("display","none"),$(o).find(".clickedImg").css("display","inline-block"),$(o).find("span").text(e+1).css("color","#E33E33");$(o).parents(".right-box").children(".comment-like").html($(o).html()),$(".comment-like-img-hover").css("display","none")})})}function n(t){var e="";return 0==t.length?"":(e=t.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"))}function i(){currentUserName||csdn.loginBox.show()}function a(t){var e=window.location.href.split(t)[1];return null!=e?e:""}var s='<img class="read-reply-img" src="'+blogUrl+'static_files/template/new_img/replyComment.png">';t.prototype.getData=function(t,e){var o=this;o.pageIndex=void 0!==t?t:o.pageIndex;var n=null;$.ajax({url:"/"+username+"/phoenix/comment/list/"+articleId+"?page="+o.pageIndex+"&size="+o.pageSize+"&tree_type=1&comment_id="+r,type:"post",success:function(t){1===t.result&&(n=t.data,n?(o.commentBox.show(),o.commentPagination.show(),o.curFloor=n.floor_count-(o.pageIndex-1)*o.pageSize,$(".comment-sofa-flag").remove()):(o.commentBox.hide(),o.commentPagination.hide()))},complete:function(){e&&e(n,o)}})},t.prototype.init=function(){window.localStorage.getItem("AM_comment_data")&&window.localStorage.getItem("AM_comment_id")==articleId&&(this.txtComment[0].focus(),this.txtComment.val(window.localStorage.getItem("AM_comment_data")),this.commentTxt.val(window.localStorage.getItem("AM_comment_replyId")),$(window).scrollTop(this.txtComment.offset().top));var t=function(t,e){if(null!==t){var o="";if(currentUserName||(o="登录 "),e.pageCount=t.page_count,e.curFloor=t.floor_count,e.commentCount=t.floor_count,e.btnShowMore.html("<span>"+o+"查看 "+t.count+' 条热评</span><svg class="icon open" aria-hidden="true"><use xlink:href="#csdnc-chevrondown"></use></svg>'),e.renderData(t.list),currentUserName?(e.btnShowMore.parent("div.opt-box").remove(),e.showAll=!0,t.floor_count<=e.pageSize?e.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&e.commentPagination.removeClass("d-none"),e.showAll||e.countInitHeight()):t.floor_count<=3?(e.btnShowMore.parent("div.opt-box").remove(),e.commentBox.css("max-height","none"),e.showAll=!0):(t.floor_count<=e.pageSize?e.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&e.commentPagination.removeClass("d-none"),e.showAll||e.countInitHeight()),null===e.commentPageObj?t.page_count>0&&(e.commentPageObj=new Paging,e.commentPageObj.init({target:e.commentPagination,pagesize:e.pageSize,count:e.commentCount,current:1,firstTpl:"",lastTpl:"",callback:function(t,o,n){e.getPagination(t)}})):e.commentPageObj.render({count:e.commentCount}),""!==r){var n=$("div.comment-list-box ul.comment-list:first-child").find("li.comment-line-box");$(n).each(function(t,e){if(r==$(e).data("commentid")){var o=$(e).parents("li.replay-box");o.length>0&&o.parent("ul.comment-list").find("a.btn-read-reply").trigger("click");var i=$(document).scrollTop(),a=$("#csdn-toolbar").height(),s=16;i<52&&(a=2*a);var c=$(n)[t].offsetTop-a-s;return setTimeout(function(){$("html,body").animate({scrollTop:c},200)},850),!1}})}}else e.btnShowMore.parent("div.opt-box").remove(),e.showAll=!0};commentscount||!this.firstLoad?this.getData(1,t):$(".comment-sofa-flag").show()},t.prototype.countInitHeight=function(){var t=this;t.curH=0,t.commentBox.find(">ul.comment-list:lt(3)").each(function(e){t.curH+=$(this).height()}),t.curH+=27,t.commentBox.css("max-height",t.curH)},t.prototype.initTxt=function(){var t=this;t.txtComment.focus(function(){t.commentCountObj.text(1e3-parseInt($(this).val().length)),$(this).addClass("open"),$(".bt-comment-show").hide()}),$("body").click(function(e){$(e.target).is("div.comment-edit-box *")||$(e.target).is(".btn-reply")||$(e.target).is(".right_recommend_comment_button *")||$(e.target).is(".reply")||(t.txtComment.removeClass("open"),$(".bt-comment-show").show(),t.commentCountObj.text(t.commentFontLimit))}),$(".bt-comment-show").click(function(){$(this).hide(),t.txtComment.addClass("open")}),$(".tool-item-comment").click(function(){setTimeout(function(){$(".bt-comment-show").hide(),t.txtComment.addClass("open")},0)})},t.prototype.bindBtn=function(){function t(t){return"svg"===this.nodeName||currentUserName?(e.commentBox.css("max-height","none"),e.commentCount>e.pageSize&&e.commentPagination.removeClass("d-none"),$(this).parent("div.opt-box").remove(),$(this).parent().parent("div.opt-box").remove(),e.showAll=!0,e.curH=0,void(window.event?window.event.cancelBubble=!0:t.stopPropagation())):(csdn.loginBox.show(),!1)}var e=this;e.commentBox.click(function(t){var o=$(t.target).data("type");if(void 0!==o)switch(o){case"report":window.csdn.userLogin.loadAjax(function(t){showReport(!0)});break;case"reply":if(currentUserName){if(currentUserName){var n=$(t.target).parents("li.comment-line-box"),i={};i.Id=n.data("commentid"),i.User=n.data("replyname"),i.text=n.find(".name").text()+(n.find(".nick-name").length?" 回复 "+n.find(".nick-name").text():"")+n.find(".comment").text(),e.cancelBtnToggle(!0),e.replayComment(i),e.txtComment.trigger("focus")}var a=$(document).scrollTop(),r=$("#csdn-toolbar").height();a<52&&(r=2*r),$("html,body").animate({scrollTop:$("#commentsedit").offset().top-r-8},500)}else csdn.loginBox.show();break;case"readreply":var c=$(t.target).parents("li").siblings("li.replay-box");$(t.target).hasClass("open")?($(t.target).removeClass("open"),$(t.target).html(s+$(t.target).data("count")),c.hide(),e.curH&&e.commentBox.css("max-height",e.curH)):($(t.target).addClass("open").data("txt",$(t.target).text()),$(t.target).html(s+"收起评论"),c.show(),e.curH&&e.commentBox.css("max-height",e.curH+c.height()+10));break;case"delete":var l=$(t.target).parents("li.comment-line-box"),d=l.data("commentid");e.deleteComment(d)}}),this.btnShowMore.click(t),this.btnShowMore.find("svg").click(t),$(document).on("click",".show_loginbox",function(){if(e.setStorage()){var t=getCookie("UserName"),o="https://me.csdn.net/"+t;window.open(o,"_blank")}})},t.prototype.bindTxt=function(){var t=this;this.txtComment.blur(function(){}),this.txtComment.keyup(function(){var e=t.commentCountObj,o=t.commentFontLimit-$(this).val().length;o<0?e.text(0):e.text(o),$(this).val().length||$(this).data("replayUser")?t.cancelBtnToggle(!0):t.cancelBtnToggle(!1)})},t.prototype.renderData=function(t){this.commentBox.html("");for(var e='<ul class="comment-list">',o=0;o<t.length;o++){var n=t[o].info,i=t[o].sub,a=void 0!==i?i.length:0,e='<ul class="comment-list">';if(e+=this.buildHtml(n,a,!0),a>0){e+='<li class="replay-box" style="display:none">',e+='<ul class="comment-list">';for(var s=0;s<a;s++){var r=i[s];e+=this.buildHtml(r,0,!1)}e+="</ul>",e+="</li>"}e+="</ul>",this.commentBox.append($(e)),$(".comment-list-container").show(),this.curFloor--}$("pre.code2").each(function(t,e){hljs.highlightBlock(e),hljs.getLines(e.innerHTML).length>1?hljs.lineNumbersBlock(e):hljs.lineNumbersBlock(e,{singleLine:!0}),$(e).removeClass("code2")})},t.prototype.buildHtml=function(t,o,n){var i="",a="",r="",c="";if(n){var l=this.getQuoteInfo(t.Content);l.length>1?(r=l[1],c=this.getCodeInfo(l[2]),c=this.replaceNewUBB(c),i=this.getCodeInfo(l[3]),i=this.replaceNewUBB(i),i='<span class="quote">引用“<font color="black">'+r+"</font>”的评论：</span><blockquote>"+c+"</blockquote>"+i):(i=this.replaceNewUBB(l[0]),i=this.getCodeInfo(i))}else{var l=this.getReplyInfo(t.Content);a=l[1];var d=l.length>2?this.getQuoteInfo(l[2]):this.getQuoteInfo(l[0]);d.length>1?(r=d[1],c=this.getCodeInfo(d[2]),c=this.replaceNewUBB(c),i=this.getCodeInfo(d[3]),i=this.replaceNewUBB(i),i='<span class="quote">引用“<font color="black">'+r+"</font>”的评论：</span><blockquote>"+c+"</blockquote>"+i):(i=this.replaceNewUBB(d[0]),i=this.getCodeInfo(i))}var m="https://me.csdn.net/";if(t.tag){var p="https://blog.csdn.net/blogdevteam/article/details/103478461",h='<a class="comment-tag" target="_blank" href="'+p+'">'+t.tag+'<img class="comment-tag-img" src="'+blogUrl+'static_files/template/new_img/commentTagArrow.png" title="'+t.tag+'"></a>';u=t.ParentTag?'<a class="comment-tag" target="_blank" href="'+p+'">'+t.ParentTag+'<img class="comment-tag-img" src="'+blogUrl+'static_files/template/new_img/commentTagArrow.png" title="'+t.ParentTag+'"></a>':""}else var h="",u="";e(t);var f="匿名用户"!=t.UserName?m+t.UserName:"javascript:void(0);",g='<li class="comment-line-box d-flex" data-commentid="'+t.CommentId+'" data-replyname="'+t.UserName+'">      <a target="_blank" href="'+f+'"><img src="'+t.Avatar+'" username="'+t.UserName+'" alt="'+t.UserName+'" class="avatar"></a>        <div class="right-box '+(a?"reply-box":"")+'">          <div class="new-info-box clearfix">          '+h+'<a target="_blank" href="'+f+'"><span class="name '+(n?"":"mr-8")+'">'+(n?t.NickName+"</a>":t.NickName+isBloger+'</a></span><span class="text">回复</span>'+u+'<span class="nick-name">'+(t.ParentNickName?t.ParentNickName:""))+'<span class="colon">:</span></span>'+(n?'<span class="floor-num"></span>':'<span class="text"></span>')+'<span class="new-comment">'+i+'</span><span class="date" title="'+t.PostTime+'">'+t.date_format+"</span>"+(o>0?'<a class="btn-read-reply" data-type="readreply" data-count="查看回复('+o+')">'+s+"查看回复("+o+")</a>":"")+'<span class="new-opt-box new-opt-box-bg"><a class="btn  btn-report" data-type="report">举报</a>'+(isOwner||currentUserName===t.UserName?'<a class="btn btn-delete" data-type="delete"><img src="'+blogUrl+'static_files/template/new_img/deleteComment.png" title="删除">删除</a>':"")+'<a class="btn  btn-reply" data-type="reply"><img src="'+blogUrl+'static_files/template/new_img/replyOtherComment.png" title="回复">回复</a><a class="btn  btn-heart" data-type="heart"><div class="comment-like '+(t.digg_arr.indexOf(currentUserName)!=-1?"liked":"")+'" data-commentid='+t.CommentId+' ><img class="comment-like-img unclickImg" src="'+blogUrl+'static_files/template/new_img/commentUnHeart.png" title="点赞"><img class="comment-like-img comment-like-img-hover" style="display:none" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞"><img class="comment-like-img clickedImg" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞">'+(0!==parseInt(t.Digg)?"<span>"+t.Digg+"</span>":"<span></span>")+'</div></a></span></div><div class="comment-like '+(t.digg_arr.indexOf(currentUserName)!=-1?"liked":"")+'" data-commentid='+t.CommentId+' ><img class="comment-like-img unclickImg" src="'+blogUrl+'static_files/template/new_img/commentUnHeart.png" title="点赞"><img class="comment-like-img comment-like-img-hover" style="display:none" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞"><img class="comment-like-img clickedImg" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞">'+(0!==parseInt(t.Digg)?"<span>"+t.Digg+"</span>":"<span></span>")+"</div></div></li>";return g},t.prototype.getReplyInfo=function(t){var e=t.split(/\[reply]([\s\S]*?)\[\/reply\][\r\n]{0,1}/gi);return e},t.prototype.getQuoteInfo=function(t){var e=t.split(/\[quote=([\w#\.]+)\]([\s\S]*?)\[\/quote\][\r\n]{0,2}/gi);return e},t.prototype.getCodeInfo=function(t){var e=t.replace(/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/gi,function(t,e,o){return""==$.trim(o)?"":'<pre name="code2" class="code2 '+e+'"><code>'+n(o.trim())+"</code></pre>"});return e},t.prototype.replaceNewUBB=function(t){return t=t.replace(/\[face\]([^\]]+):([^\]]+)\[\/face\]/gi,'<img src="//g.csdnimg.cn/static/face/$1/$2" alt="表情包"/>')},t.prototype.replayComment=function(t){var e=t.Id,o=t.User;this.txtComment.attr("placeholder","回复："+t.text).data("replayUser",o),this.commentTxt.val(e)},t.prototype.commentCode=function(){var t=this;$("#commentCode").find("a").click(function(){var e=t.txtComment[0].value,o="[code="+$(this).data("code")+"]\n"+e+"\n[/code]",n=t.txtComment.val();t.txtComment.val(n+o)})},t.prototype.comment=function(){function t(t){if(!currentUserName)return e.setStorage();window.localStorage.removeItem("AM_comment_data");var o=$(t).find(":submit"),n={replyId:e.commentTxt.val(),content:e.txtComment.val()};if(n.replyId&&$.trim(n.content)&&(n.content="[reply]"+e.txtComment.data("replayUser")+"[/reply]"+n.content),""===$.trim(n.content))alert("请填写评论内容");else{var i=blog_address+"/phoenix/comment/submit?id="+articleId;$.ajax({url:i,type:"post",dataType:"json",data:n,beforeSend:function(){o.prop("disabled",!0).val("提交中")},success:function(t){1===t.result?(e.commentForm.trigger("reset"),e.commentTxt.val(""),e.txtComment.data("replayUser","").attr("placeholder","想对作者说点什么"),e.cancelBtnToggle(!1),r=t.data,e.init(),e.removeStorage()):t.info?alert(t.info):alert(t.content?t.content:"评论失败请重试")},complete:function(){o.prop("disabled",!1).val("发表评论")}})}return!1}var e=this;$("#commentform").submit(function(e){e.preventDefault();var o=this;try{window.csdn.userLogin.loadAjax(function(e){t(o)})}catch(n){t(o)}})},t.prototype.deleteComment=function(t){var e=this,o=$("#article_id").val();if(confirm("你确定要删除这篇评论吗？")){var n=blog_address+"/phoenix/comment/delete",i={commentId:t,filename:o};$.post(n,i,function(t){1===t.result?e.commentPageObj.go(e.pageIndex):(alert(t.content),location.reload())})}},t.prototype.insertRightCommnetPrompt=function(){if(window.localStorage.getItem("AM_comment_Prompt_show"))return!1;window.localStorage.setItem("AM_comment_Prompt_show",!0);var t=$(".right_recommend_comment"),e=$(".right_recommend_comment_Prompt");e.length>0?e.fadeIn(300):t.prepend('<div class="right_recommend_comment_Prompt"><div class="text">新的评论在这里</div><div class="arrow"></div></div>'),setTimeout(function(){$(".right_recommend_comment_Prompt").fadeOut(500)},4e3)},t.prototype.setStorage=function(){return window.localStorage.setItem("AM_comment_data",this.txtComment.val()),window.localStorage.setItem("AM_comment_replyId",this.commentTxt.val()),window.localStorage.setItem("AM_comment_id",articleId),!!getCookie("UserName")||(window.csdn.loginBox.show(),!1)},t.prototype.removeStorage=function(){window.localStorage.removeItem("AM_comment_data"),window.localStorage.removeItem("AM_comment_replyId"),window.localStorage.removeItem("AM_comment_id")},t.prototype.bindLikedClick=o,t.prototype.cancelBtnToggle=function(t){t?this.cancelBtn.removeClass("d-none"):this.cancelBtn.addClass("d-none")},t.prototype.cancelBtnBindEvent=function(){var t=this;this.cancelBtn.on("click",function(){t.txtComment.attr("placeholder","想对作者说点什么").data("replayUser","").val(""),t.commentTxt.val(""),t.cancelBtnToggle(!1)})},$(document).on("mouseenter",".btn-heart .comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block")):($(this).find(".unclickImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block"))}),$(document).on("mouseleave",".btn-heart .comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none")):($(this).find(".unclickImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none"))}),$(document).on("focus","#comment_content",i);var r=a("#comments_");window.csdn.comments?window.csdn.comments:{},window.csdn.Comments=t,window.csdn.comments=new window.csdn.Comments}),$(function(){if(1===articleType){var t=$("main .blog-content-box")[0],e=document.querySelector(".creativecommons span a");e=e?e.innerText:"CC 4.0 BY-SA";var o="\r\n————————————————\r\n版权声明：本文为CSDN博主「"+nickName+"」的原创文章，遵循"+e+"版权协议，转载请附上原文出处链接及本声明。\r\n原文链接："+curentUrl;csdn.copyright.init(t,o)}}),$(function(){function t(t,o){if(!(o.length<2)){var n="";n+="<ol>";for(var i=0,a=0,s=0,r=0,c=0,l=0;l<o.length;l++){var d=parseInt(o[l].tagName.substr(1),10);if(i||(i=d),d>i?(n+='<li class="sub-box"><ol>',a++):d<i&&a>0&&(n+="</ol></li>",a--),1==d)for(;a>0;)n+="</ol>",a--;i=d;var m=o.eq(l).text();if(m=/^[\s]+$/.test(m)?m:m.replace(/^[\s]+/g,""),m=e(m),m.length>0)switch(d){case 1:++s,r=0,c=0;var p="";1===s&&(p="active"),n+="<li class="+p+'><a href="#t'+l+'">'+m+"</a></li>",o.eq(l).html('<a name="t'+l+'"></a>'+o.eq(l).html());break;case 2:++r,c=0,n+='<li><a href="#t'+l+'">'+m+"</a></li>",o.eq(l).html('<a name="t'+l+'"></a>'+o.eq(l).html());break;case 3:++c,n+='<li><a href="#t'+l+'">'+m+"</a></li>",o.eq(l).html('<a name="t'+l+'"></a>'+o.eq(l).html())}}for(;a>0;)n+="</ol>",a--;return n}}function e(t){return t.replace(/[<>&"]/g,function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[t]})}function o(t){function e(t){return $(t).each(function(t,n){n.children&&e(n.children),++o}),o}var o=0;return e(t)}function n(t,e,o){var n=$("div.groupfile"),a=n.find("div.toc-box"),r=n.find("div.opt-box");if(e<=2&&$("#liTocBox").remove(),e>2&&"0"==isShowThird&&$("#liTocBox").css("display","block"),e<=2&&"1"==isShowThird&&$(".groupfile").remove(),e<=2&&($("#blog_artical_directory").hide(),$(".left_menu .menu_con").hide()),!$(".first_li")[0]){a.html(o(t,d)),s(e,r,a);var c=!1;$("#liTocBox").hover(function(){$("#liTocBox .toc-container").finish().fadeIn(500),$(this).find("button.btn-toc").addClass("active"),c=!1},function(t){c=!0;var e=$(this);setTimeout(function(){c&&($("#liTocBox .toc-container").finish().fadeOut(500),e.find("button.btn-toc").removeClass("active"))},300)})}i()}function i(){
var t=$("#csdn-toolbar").height()+8,e="",o="";""!==String($(".groupfile .toc-box").text()).replace(/(^\s*)|(\s*$)/g,"")?($(".kind_person").length>0&&($("#addAdBox").length>0&&""!==String($("#addAdBox").html()).replace(/(^\s*)|(\s*$)/g,"")?($("#addAdBox").css({display:"block","margin-top":"8px"}),$("#groupfile").css("max-height","40%"),e=Math.floor(Number($("#groupfile").height())+Number($("#addAdBox").height())+16+t)+"px",$(".kind_person").css({position:"fixed",top:e,bottom:"0","min-height":"auto","padding-bottom":"24px"})):($("#addAdBox").remove(),$("#groupfile").css("max-height","49%"),e=Math.floor(Number($("#groupfile").height())+8+t)+"px",$(".kind_person").css({position:"fixed",top:e,bottom:"0","padding-bottom":"24px"}))),$(".recommend-list-box").length>0&&($(".recommend-top-adbox").length>0&&""!==String($(".recommend-top-adbox").html()).replace(/(^\s*)|(\s*$)/g,"")?($(".recommend-top-adbox").css({display:"block","margin-top":"8px"}),$("#groupfile").css("max-height","40%"),o=Math.floor(Number($("#groupfile").height())+Number($(".recommend-top-adbox").height())+16+t)+"px",$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0",height:"auto","padding-bottom":"24px"})):($(".recommend-top-adbox").remove(),$("#groupfile").css("max-height","49%"),o=Math.floor(Number($("#groupfile").height())+8+t)+"px",$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0",height:"auto","padding-bottom":"24px"}))),$("#recommend-right").css({top:t})):($("#asidedirectory").remove(),$("#groupfile").remove(),$(".kind_person").length>0&&($("#addAdBox").length>0&&""!==String($("#addAdBox").html()).replace(/(^\s*)|(\s*$)/g,"")?($("#addAdBox").css({display:"block","margin-top":"8px"}),e=Math.floor(Number($("#addAdBox").height())+t)+8+"px",$(".kind_person").css({position:"fixed",top:e,bottom:"0","padding-bottom":"24px"})):($("#addAdBox").remove(),e=t,$(".kind_person").css({position:"fixed",top:e,bottom:"0","padding-bottom":"24px"}))),$(".recommend-list-box").length>0&&($(".recommend-top-adbox").length>0&&""!==String($("#addAdBox").html()).replace(/(^\s*)|(\s*$)/g,"")?($(".recommend-top-adbox").css({display:"block","margin-top":"8px"}),o=Math.floor(Number($(".recommend-top-adbox").height())+8+t)+"px",$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0","padding-bottom":"24px",height:"auto"})):($(".recommend-top-adbox").remove(),o=t,$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0","padding-bottom":"24px",height:"auto"}))),$("#recommend-right").css({top:t-8}))}function a(){for(var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,e=0;e<f.length-1;e++){if(t<=f[0]){var o="#"+$(u[0]).find("a")[0].name,n=$("#groupfile").find('a[href="'+o+'"]')[0],i=$("#directory").find('a[href="'+o+'"]')[0];$(n).parent().addClass("active"),$(i).parent().addClass("active")}if(f[e]<=t&&t<=f[e+1]){var o="#"+$(u[e]).find("a")[0].name,n=$("#groupfile").find('a[href="'+o+'"]')[0],i=$("#directory").find('a[href="'+o+'"]')[0];$(n).parent().addClass("active"),$(i).parent().addClass("active"),$(n).length&&$("#groupfile .align-items-stretch").animate({scrollTop:$(n)[0].offsetTop+"px"},0),$(i).length&&$("#directory .align-items-stretch").animate({scrollTop:$(i)[0].offsetTop+"px"},0)}}}function s(t,e,o){if(t>9){var n=25*$("div.toc-box").find("li:not(.sub-box)").length,i=225,a=n-i,s=0;e.find("button.btn-opt").click(function(){$(this).hasClass("nomore")||($(this).hasClass("prev")?(s-=25,o.scrollTop(s),s<=0&&$(this).addClass("nomore")):(s+=25,s>=25*(t-17)&&(s=25*(t-17)),o.scrollTop(s),s>=a&&$(this).addClass("nomore")),$(this).siblings().removeClass("nomore"))})}else e.remove()}function r(){function t(e){$(".openvippay")[0]||window.csdn.clearReadMoreBtn(),o.off("click",t)}function e(){var t=window.location.href,e=document.title;setTimeout(function(){history.pushState(null,e,t)},0)}var o=$(".toc-container .toc-box ol li a");return 0!==o.length&&(o.click(t),void o.click(e))}function c(t){var e="<ol>";return $(t).each(function(t,o){e+=l(o,t)}),e+"</ol>"}function l(t,e){return t.children.length?"<li><a>"+t.title+'</a></li><li class="sub-box">'+c(t.children)+"</li>":"<li><a>"+t.title+"</a></li>"}for(var d=$("#article_content").find("h1,h2,h3"),m=0;m<d.length;m++)d.eq(m).html('<a name="t'+m+'"></a>'+d.eq(m).html());if($(".vip_article")[0]){var p=articleDetailUrl.split("/"),h=blogUrl+"/pheapi/article/dir/"+p[p.length-1];$.ajax({type:"GET",url:h,dataType:"json",xhrFields:{withCredentials:!0},success:function(t){t.data&&(n(t.data,o(t.data),c),r(),$("#groupfile .toc-box ol li a").each(function(t,e){e.href="#t"+t}),$("#directory .toc-box ol li a").each(function(t,e){e.href="#t"+t}))}})}else n("",d.length,t),r();var u=$("#content_views").find("h1,h2,h3"),f=[],g=$("#content_views").offset().top,v=$("#content_views").height(),b=$("#csdn-toolbar").height();if($(u).each(function(t,e){f.push($(e)[0].offsetTop+g-2*b)}),f.push(v+g),$(window).scroll(function(){$(".groupfile .toc-box li").removeClass("active"),a()}),a(),$(document).on("click",".groupfile .toc-box li a",function(t){$(".groupfile .toc-box li").removeClass("active"),$(this).parent().addClass("active")}),$(window).resize(function(){i()}),$(".hide-article-box").length&&"none"!==$(".hide-article-box").css("display")){for(var x=$(".hide-article-box").offset().top,w=0,k=0;k<f.length-1;k++)f[k]<=x&&x<=f[k+1]&&(w=k+1);var y=u.slice(w,u.length);$(".vip_article")[0]&&$(document).click(".groupfile .toc-box ol a",function(t){if(parseInt($(t.target)[0].hash.split("#t")[1])>w){var e=$("#getVipUrl").attr("href");e.indexOf("vip")>-1?window.open(e+"?utm_source=brv&sale_source=BgsN7mSaYF"):window.open(e)}}),$(".btn-readmore")[0]&&y.each(function(t,e){$(".groupfile .toc-box ol").find('a[href="#'+$(y[t]).find("a")[0].name+'"]').click(function(){$(".btn-readmore").trigger("click"),$(".btn-readmore").hasClass("no-login")&&window.open("https://passport.csdn.net/account/login"),$("#btn-readmore-zk").trigger("click")})})}$(document).ready(function(){$(document).on("click","#content_views a[href*=#],div.toc-box a[href*=#],li.tool-item-comment a[href*=#]",function(){var t=$("#csdn-toolbar").height(),e=$(document).scrollTop();if(e<52&&(t=2*t),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=$(this.hash);if(o=o.length&&o||$("[name="+this.hash.slice(1)+"]"),o.length){var n=o.offset().top;return $("html,body").animate({scrollTop:n-t},500),!1}}}),setTimeout(function(){if(window.location.href.indexOf("#comments")>-1){var t=$("#csdn-toolbar").height();$("html,body").animate({scrollTop:$("#commentBox").offset().top-t-48},500)}},1e3)})}),$(function(){var t=$('#article_content a[href^="#"]');t.each(function(t){$(this).attr("target","_self")})}),$(function(){function t(){function t(){$("#publicPrompt").remove(),$(document).off("click",".publicPrompt-close",t),$(document).off("click",".publicPrompt-mask",t)}var e={success:'<svg class="icon success" aria-hidden="true"><use xlink:href="#csdnc-check"></use></svg>'};this.data={},this.data.status="success",this.data.titleStr="收藏成功",this.data.textStr='已收藏至 <a href="https://i.csdn.net/#/uc/favorite-list" target="_blank">个人中心</a>',this.data.imgUrl="",this.init=function(t){return $.extend(this.data,t),this.addStyle(),this.bindDom(),this},this.show=function(t){$.extend(this.data,t),this.insetStructure(this.data)},this.bindDom=function(){$(document).on("click",".publicPrompt-close",t),$(document).on("click",".publicPrompt-mask",t)},this.insetStructure=function(t){var o='<div id="publicPrompt"><div class="publicPrompt-mask"></div><div class="publicPrompt-content"><div class="publicPrompt-title-box"><h3 class="publicPrompt-title">'+e[t.status]+t.titleStr+'</h3><span class="publicPrompt-close"><svg class="icon" aria-hidden="true"><use xlink:href="#csdnc-times"></use></svg></span><div class="publicPrompt-text">'+t.textStr+'</div><img class="publicPrompt-qr" src="'+t.imgUrl+'" alt=""><div class="publicPrompt-footer-text">下载APP随时查看</div></div></div></div>';$("body").append(o)},this.addStyle=function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=["#publicPrompt{","position: fixed;z-index: 99999;top: 0;left: 0;width: 100%;height: 100%;","}","#publicPrompt .publicPrompt-mask{","position: absolute;top: 0;left: 0;width: 100%;height: 100%;","background-color: rgba(0,0,0,0.5);","}","#publicPrompt .publicPrompt-content{","position: absolute;z-index: 2;top: 30%;left: 50%;margin-left: -175px;","background-color: #fff;width: 350px;padding: 16px;","}","#publicPrompt .publicPrompt-content .publicPrompt-title{","font-size: 16px;color: #3D3D3D;","}","#publicPrompt .publicPrompt-title svg{margin-right:4px;}","#publicPrompt .publicPrompt-title .success{fill:#89cb62;width: 20px;height: 20px;vertical-align: sub;}","#publicPrompt .publicPrompt-close{","position: absolute;top: 16px;right: 16px;cursor: pointer;","}","#publicPrompt .publicPrompt-text{","text-align: center;margin-top: 16px;margin-bottom: 16px;font-size: 14px;","}","#publicPrompt .publicPrompt-text a{","color: #3399EA;text-decoration: underline;","}","#publicPrompt .publicPrompt-qr{","display: block;width: 116px;height: 116px;padding: 8px;margin: 0 auto;border: 1px solid #EBEBEB;","}",".publicPrompt-footer-text{","font-size: 14px;color: #4D4D4D;margin-top:8px;text-align: center;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(t)}}window.csdn?window.csdn:{},window.csdn.publicPrompt=t}),function(){function t(){if(RecommendBlogExpertList.length<3)return!1;var t=0;o(t),$(".blog-expert-recommend-box").show(),RecommendBlogExpertList.length>3&&$(".blog-expert-load-new").show(),$(document).on("click",".blog-expert-button-follow",n)}function e(t){var e="";t.is_expert&&(e='<svg class="icon" aria-hidden="true"><use xlink:href="#csdnc-blogexpert"></use></svg>');var o="btn-red-follow",n="关注";t.is_followed&&(o="btn-gray-follow attented",n='<span class="hover-hide">已关注</span><span class="hover-show">取消</span>');var i=window.location.href,a={mod:"popu_709",dest:i,ab:"new"};a=JSON.stringify(a);var s={mod:"popu_710",dest:i,ab:"new"};s=JSON.stringify(s);var r='<div class="blog-expert-item"><div class="blog-expert-info-box"><div class="blog-expert-img-box"  data-report-click='+a+'><a href="'+blogUrl+t.user_name+'" target="_blank"><img src="'+t.avatar+'"  username="'+t.user_name+'" alt="'+t.nick_name+'" title="'+t.nick_name+'">'+e+"</a><span data-report-click="+s+'><span class="blog-expert-button-follow '+o+'" data-name='+t.user_name+" data-nick="+t.nick_name+">"+n+'</span></span></div><div class="info"><span data-report-click='+a+'><a href="'+blogUrl+t.user_name+'" target="_blank"><h5 class="oneline" title="'+t.nick_name+'">'+t.nick_name+'</h5></a></span>  <p><p class="article-num" title="'+t.article_count+'篇文章"> '+t.article_count+'篇文章</p><p class="article-num" title="排名:'+t.rank+'"> 排名:'+t.rank+"</p></p></div></div></div>";return r}function o(t){var o=$(".blog-expert-flexbox");o.attr("data-report-view",'{"mod":"popu_709","dest":"'+window.location.href+'","ab":"new"}');for(var n="",i=t;i<t+4;i++)"object"==typeof RecommendBlogExpertList[i]&&(n+=e(RecommendBlogExpertList[i]));return $(".blog-expert-item").hide(),o.append(n),i}function n(t){var e=t.target;currentUserName||(window.location.href=loginUrl);var o=$(e).hasClass("blog-expert-button-follow"),n=o?$(e):$(e).parent(".blog-expert-button-follow"),s=n.hasClass("attented");s?a(n):i(n)}function i(t){var e="//me.csdn.net/api/relation/create?source=blog";$.ajax({type:"POST",url:e,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:t.data("name")}),xhrFields:{withCredentials:!0},success:function(e){e="object"!=typeof e?JSON.parse(e):e,200==e.code?t.html('<span class="hover-hide">已关注</span><span class="hover-show">取消</span>').removeClass("btn-red-follow").addClass("btn-gray-follow attented"):alert(e.message)},error:function(t){return""!=t.responseText&&(t="object"!=typeof t.responseText?JSON.parse(t.responseText):t.responseText,void(400102==t.code?window.csdn.loginBox.show():alert(t.message)))}})}function a(t){var e="//me.csdn.net/api/relation/destroy?source=blog";$.ajax({type:"POST",url:e,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:t.data("name")}),xhrFields:{withCredentials:!0},success:function(e){e="object"!=typeof e?JSON.parse(e):e,200==e.code?t.html("关注").addClass("btn-red-follow").removeClass("btn-gray-follow attented"):console.error(e.msg)}})}function s(){return p.pageIdx>1?(p.noMoreData||(p.noMoreData=!0),!1):($.ajax({url:"/"+username+"/article/GetRelatedArticles?pageindex="+p.pageIdx+"&articleId="+articleId,beforeSend:function(){p.loadingBox.show(),"object"==typeof p.BlogCommendStartIndex&&(p.BlogCommendStartIndex=$(".type_blog, .recommend-download-box").length-1)},success:function(t){p.loadingBox.hide(),t=JSON.parse(t),t.content?(p.loadingBox.before(t.content),m()):p.noMoreData=!0},complete:function(){p.loading=!1}}),void p.pageIdx++)}function r(){var t=p.listBox.offset().top,e=$(window).height();if(!p.noMoreData&&!p.loading){var o=t+p.listBox.height()-e,n=$(document).scrollTop();o<n&&(p.loading=!0,s())}}function c(t,e,o){var n=null,i=null;return function(){var a=+new Date;i||(i=a),a-i>o?(clearTimeout(n),t(),i=a):(clearTimeout(n),n=setTimeout(function(){t()},e))}}function l(){$(".recommend-item-box .info-box .namebox").each(function(t,e){$(e).css("left",-($(e).outerWidth()/2)+8).data("isSetLeft",!0)})}function d(){var t=10;$(".recommend-item-box").each(function(e,o){if(!$(o).hasClass("recommend-download-box")){if($(o).find(".img-box").length>0)var n=$(o).find(".img-box").outerWidth();else var n=0;var i=$(o).find(".info-box").outerWidth();$(o).find("h4").width($(o).width()-n-i-5*t),$(o).find(".content ").width($(o).width()-n)}})}function m(){d(),l()}window.csdn=window.csdn?window.csdn:{},window.csdn&&(window.csdn.trackRecord=window.csdn.trackRecord?window.csdn.trackRecord:{},window.csdn.trackRecord.articleTrackCount=-1,window.csdn.trackRecord.baiduTrackCount=-1);var p={datacount:recommendCount,pageIdx:2,adIdx:1,listBox:$("div.recommend-box"),loadingBox:$("div.recommend-box").find("div.recommend-loading-box"),endBox:$("div.recommend-box").find("div.recommend-end-box"),noMoreData:!1,loading:!1,BlogCommendStartIndex:null};$(".blog-expert-recommend-box").length>0&&t(),remoteData&&remoteData(),$(document).scroll(c(r,500,2e3)),m();var h=null;$(window).resize(function(){h&&clearTimeout(h),h=setTimeout(function(){m()},50)})}(),$(function(){function t(t){var o=e(t),n="https://me.csdn.net/api/relation/check?follows="+o;return $.ajax({type:"GET",url:n,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){if(200==e.code)for(var o=0;o<t.length;o++)for(var n in e.data)t[o].user_name.toLowerCase()==n.toLowerCase()&&(t[o].is_followed=e.data[n]);$(".blog-expert-button-follow").each(function(t){var o=$(this).data("name");o&&e.data[o]&&$(this).html('<span class="hover-hide">已关注</span><span class="hover-show">取消</span>').removeClass("btn-red-follow").addClass("btn-gray-follow attented")})}}),t}function e(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o].user_name);return e.join(",")}currentUserName&&RecommendBlogExpertList.length>0&&t(RecommendBlogExpertList),$(document).on("click",".recommend-box .text-truncate a,.recommend-box .desc a",function(t){$(this).parents(".recommend-item-box").find(".text-truncate a").addClass("click-record")})}),$(function(){function t(t,e){c.hide(),d=t,d?s.text("您举报的评论来自文章："):s.text("举报内容："),r.css({"z-index":9999}).show(),a.css({"z-index":1e4}).show()}function e(){a.find("#frmReport").trigger("reset"),r.css({"z-index":150}).hide(),a.hide(),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,n="",i=""}var o=' <div class="report-box">  <div class="pos-boxer">      <div class="pos-content">          <div class="box-title">              <p>举报</p>              <svg  class="icon btn-close" aria-hidden="true">                    <use xlink:href="#csdnc-times"></use>              </svg>          </div>          <div class="box-header">              <div class="box-top"><span>选择你想要举报的内容（必选）</span></div>              <div class="box-botoom">                  <ul>                      <li data="1"  type="nei">内容涉黄</li>                      <li data="2" type="nei">政治相关</li>                      <li data="3" type="nei">内容抄袭</li>                      <li data="4" type="nei">涉嫌广告</li>                      <li data="5" type="nei">内容侵权</li>                      <li data="6" type="nei">侮辱谩骂</li>                      <li data="8" type="nei">样式问题</li>                      <li data="7" type="nei">其他</li>                  </ul>              </div>          </div>          <div>          <div class="box-content" >          </div>          <div class="box-content" >          </div>                    <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>原文链接（必填）</span>                      </div>                      <div class="box-content-bottom" style="padding-bottom: 16px;">                        <div class="box-input" style="height: 32px;line-height: 32px;">                        <input class="content-input" type="text" id="originalurl" name="originalurl" placeholder="请输入原文链接">                        </div>                      </div>          </div>          <div class="box-content" >          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">包含不实信息</li>                              <li sub_type="2">涉及个人隐私</li>                          </ul>                      </div>          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">侮辱谩骂</li>                              <li sub_type="2">诽谤</li>                          </ul>                  </div>          </div>          <div class="box-content" style="display:none;">                <div class="box-content-top">                        <span>请选择具体原因（必选）</span>                    </div>                <div class="box-content-bottom">                        <ul>                            <li sub_type="1">搬家样式</li>                            <li sub_type="2">博文样式</li>                        </ul>                </div>          </div>          <div class="box-content" style="display:none;">          </div>          </div>            <div id="cllcont" style="display:none;">            <div class="box-content-top">              <span class="box-content-span">补充说明（选填）</span>            </div>                <div class="box-content-bottom">                  <div class="box-input" >                    <textarea class="ipt ipt-textarea" style="padding:0;"  name="description"  placeholder="请详细描述您的举报内容"></textarea>                  </div>                </div>            </div>            </div>      <div class="pos-footer">          <p class="btn-close">取消</p>          <p class="box-active">确定</p>      </div>  </div></div>';$("body").append(o);var n="",i="";$(".box-botoom ul li").on("click",function(){flag=!1,$(this).addClass("box-active").siblings().removeClass("box-active"),n=$(this).attr("data"),$(".content-input").val(""),$(".box-content").eq($(this).index()).show().siblings().hide(),"6"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),"8"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),$(".ipt-textarea")[0].value="",$(".box-content-bottom ul li").removeClass("box-active"),"7"==$(this).attr("data")?$(".box-content-span").html("补充说明（必填）"):$(".box-content-span").html("补充说明（选填）"),i=""}),$(".box-content-bottom ul li").on("click",function(){$(this).addClass("box-active").siblings().removeClass("box-active"),i=$(this).attr("sub_type"),flag=!0});var a=$("div.report-box"),s=a.find("#reptTit"),r=$("div.mask-dark"),c=$("#rptOriginalurl"),l=a.find('textarea[name="description"]'),d=!1,m=0;a.find(".btn-close").click(e),r.click(e);var p="";$(".box-active").on("click",function(){if(!n)return alert("请选择你想要举报的内容！"),!1;switch(n){case"3":if(p=$("#originalurl").val(),""==p||"http://"==p)return alert("举报抄袭必须提供原创文章地址！"),$("#originalurl").focus(),!1;break;case"7":if(p=l.val(),!p)return alert("请填写补充说明！"),l.focus(),!1;break;case"5":if(!flag)return alert("请选择具体原因"),!1;break;case"6":if(!flag)return alert("请选择具体原因"),!1;break;case"8":if(!flag)return alert("请选择具体原因"),!1}var t={articleId:articleId,commentId:d?m:0,reportSubType:i,reportType:n,originalurl:p,report_other_content:l.val(),report_description:l.val(),currentUserName:currentUserName,blogUser:username};$.post(blog_address+"/common/report?id="+articleId+"&t="+(d?3:2),t,function(t){1==t.result?(e(),sessionStorage.removeItem("usename"),sessionStorage.removeItem("articleId"),alert("感谢您的举报，我们会尽快审核！"),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,n="",i="",p="",e()):t.content&&alert(t.content)})}),$("div.comment-box").on("click","a.btn-report",function(){m=$(this).parents("li.comment-line-box").data("commentid")}),window.showReport=t}),$(function(){function t(){$("code.has-numbering").each(function(t,e){$(e).css("position","absolute"),$(e).parent("pre.prettyprint").css({position:"relative",height:$(e).outerHeight()+20+"px"})})}window.csdn=window.csdn?window.csdn:{},window.csdn.setSafariCodestyle=t}),window.csdn.insertcallbackBlock=computePos,csdn.afterReportView=function(t,e){var o=$(t);o&&o.hasClass("recommend-box-ident")&&(o.addClass("box-ident-animation"),setTimeout(function(){o.removeClass("recommend-box-ident"),o.removeClass("box-ident-animation")},1600))},baiduKey&&!needInsertBaidu){var BaiduDataL=$('a[strategy*="searchFromBaidu"]').length,str="keyword="+baiduKey+"&count="+BaiduDataL;trackByGraylog("storage_baidu_exist?"+str)}$(function(){function t(){var t=$("#toolBarBox").offset().top,e=$("#toolBarBox").offset().left,o=$("#toolBarBox").height(),n=$("#toolBarBox").width(),i=window.innerHeight,a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;t+o-i-a>0?($("#toolBarBox .left-toolbox").css({position:"fixed",left:e+"px",bottom:"0",width:n+"px"}),$("#toolBarBox").addClass("more-toolbox-active")):($("#toolBarBox .left-toolbox").css({position:"relative",left:"0px",bottom:"0",width:n+"px"}),$("#toolBarBox").removeClass("more-toolbox-active"))}function e(){new QRCode(document.getElementById("shareCode"),{text:share_card_url+"&utm_source=po_popup",width:144,height:144,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}function o(){var t=(new QRCode(document.getElementById("shareQrCode"),{text:articleDetailUrl,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),$("#share-bg-shadow"));$("#btnQrShare").click(function(){t.show()}),t.find("a.btn-close").click(function(){t.hide()})}function n(t){getCookie("UserName")?$.get(blog_address+"/phoenix/article/digg?ArticleId="+articleId,function(t){0===t.status?i(!1,t.msg):(t.status?($("#is-like-img").hide(),$("#is-like-imgactive").show(),$("#is-like-span").text("已赞"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",dest:"",extend1:'{"praise":1}'})):($("#is-like-imgactive").hide(),$("#is-like-img").show(),$("#is-like-span").text("点赞"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",dest:"",extend1:'{"praise":0}'})),$("#spanCount").text(t.digg))}):window.csdn.loginBox.show()}function i(t,e){if(p.skinBoxshadow.html(""),t){var o='<div class="reward-success reward-tip">      <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>      <span>'+e+"</span>      </div>";p.skinBoxshadow.append(o)}else{var n='<div class="reward-error reward-tip">      <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>      <span>'+e+"</span>      </div>";p.skinBoxshadow.append(n)}p.skinBoxshadow.fadeIn(200),setTimeout(function(){p.skinBoxshadow.fadeOut(200),p.skinBoxshadow.html("")},1500)}function a(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show()}function s(){if(getCookie("UserName")){var t=articleDetailUrl.split("/article/details/")[1];$.ajax({url:blogUrl+"phoenix/web/v1/isCollect",type:"GET",xhrFields:{withCredentials:!0},data:{articleId:t},success:function(t){200==t.code&&t.data.status?($("#is-collection-img").hide(),$("#is-collection-imgactive").show(),$("#is-collection").text("已收藏"),$("#blog_detail_zk_collection .un-collect-status").hide(),$("#blog_detail_zk_collection .collect-status").show(),$("#blog_detail_zk_collection span.name").text("已收藏")):($("#is-collection-img").show(),$("#is-collection-imgactive").hide(),$("#is-collection").text("收藏"),$("#blog_detail_zk_collection .un-collect-status").show(),$("#blog_detail_zk_collection .collect-status").hide(),$("#blog_detail_zk_collection span.name").text("收藏"))}})}}function r(t){t?p.isHaveMoney.html('<a class="reward-sure">确定</a>'):p.isHaveMoney.html('<span class="tip">您的C币不足，请先充值哦～</span><a target="_blank" href="https://mall.csdn.net/vip" data-report-query="utm_source=RewardVip">去充值</a>')}function i(t,e){if(p.skinBoxshadow.html(""),t){var o='<div class="reward-success reward-tip">      <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>      <span>'+e+"</span>      </div>";p.skinBoxshadow.append(o)}else{var n='<div class="reward-error reward-tip">      <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>      <span>'+e+"</span>      </div>";p.skinBoxshadow.append(n)}p.skinBoxshadow.fadeIn(200),setTimeout(function(){p.skinBoxshadow.fadeOut(200),p.skinBoxshadow.html("")},1500)}function c(){if(getCookie("UserName")){var t=$(".tool-attend");t.is(".tool-unbt-attend")?(t.removeClass("tool-unbt-attend").addClass("tool-bt-attend").text("关注"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",extend1:"已关注"})):(t.removeClass("tool-bt-attend").addClass("tool-unbt-attend").text("已关注"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",extend1:"关注"}))}else window.csdn.loginBox.show()}function l(t,e){$(document).mouseup(function(o){if(!t.is(o.target)&&0===t.has(o.target).length&&!e.is(o.target)&&0===e.has(o.target).length){t.fadeOut(200);var n=o||window.e;n&&n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}})}$(document).on("mouseover",".article-bar-top .time",function(){var t=$(this).offset().left,e=($(this).width(),$(this).parents().find(".article-bar-top").offset().left);$(".article-info-box .up-time").css({left:t-e-24}).show()}),$(document).on("mouseout",".article-bar-top .time",function(){$(".article-info-box .up-time").hide()});var d=!0;$(document).on("click",".article-info-box .slide-toggle",function(){d?$(this).text("收起"):$(this).text("版权"),$(this).parents(".article-info-box").find(".slide-content-box").slideToggle(),d=!d});var m='{"mod":"1585297308_001","dest":"'+articleDetailUrl+'","extend1":"pc","ab":"new"}';canRead&&($(".hide-article-box").length?$(document).on("click",".hide-article-box .btn-readmore",function(){$("#content_views").after("<div data-report-view="+m+"><div>")}):$("#content_views").after("<div data-report-view="+m+"><div>")),$("#blog_detail_zk_collection").click(function(){window.csdn.articleCollection()}),o(),e(),$("#tool-share").on("click",function(){$("#tool-QRcode").show()}),$("#QRcode-close").on("click",function(){$("#tool-QRcode").fadeOut(200)}),$("#QRcode-phong-close").on("click",function(){$("#tool-QRcode-phong").fadeOut(200)}),l($("#tool-QRcode"),$("#tool-share")),$("#tool-phong").on("click",function(){$("#tool-QRcode-phong").show()}),l($("#tool-QRcode-phong"),$("#tool-phong")),$("#tool-reward").on("click",function(){$("#reward").show()}),$("#is-like").on("click",function(){n()}),$("#btn-readmore-zk").on("click",function(){$("#btn-readmore").show()}),$("#btn-readmore").on("click",function(){var e=$(window).height(),o=e*$(this).attr("height");$(".hide-article-box").show(),$("div.article_content")[0].style="height:"+o+"px; overflow: hidden;",t(),$("#btn-readmore").hide(),$(".btn-readmore-gz")&&$(".btn-readmore-gz span").text("阅读全文")}),$(document).on("click",".is-collection",function(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show()}),$(document).on("click",".tool-more .article-report",function(){getCookie("UserName")?showReport(!1):window.csdn.loginBox.show()}),t(),$(window).scroll(function(){t()}),$(window).resize(function(){t()}),$(".btn-readmore").click(t);var p={rewardItem:$(".to-reward"),rewardBox:$("#reward"),skinBoxshadow:$(".skin-boxshadow"),isHaveMoney:$("#reward .is-have-money"),coinNum:null,coinNumInit:5,rewardShowMore:$(".reward-user-box")};""!==articleDetailUrl||void 0!==articleDetailUrl?collectionUrl=articleDetailUrl:collectionUrl=curentUrl,window.csdn.collectionBox.params={url:collectionUrl,title:articleTitle,description:articleDesc,author:username,source_id:articleId,source:"blog",collectionCallBack:function(t){t?($("#is-collection-imgactive").show(),$("#is-collection-img").hide(),$("#is-collection").text("已收藏"),$("#blog_detail_zk_collection .un-collect-status").hide(),
$("#blog_detail_zk_collection .collect-status").show(),$("#blog_detail_zk_collection span.name").text("已收藏")):($("#is-collection-imgactive").hide(),$("#is-collection-img").show(),$("#is-collection").text("收藏"),$("#blog_detail_zk_collection .un-collect-status").show(),$("#blog_detail_zk_collection .collect-status").hide(),$("#blog_detail_zk_collection span.name").text("收藏"))}},window.csdn=window.csdn?window.csdn:{},window.csdn.articleCollection=a,s();var p={rewardItem:$("#toolreward"),rewardBox:$("#reward"),skinBoxshadow:$(".skin-boxshadow"),isHaveMoney:$("#reward .is-have-money"),coinNum:null,coinNumInit:5,rewardShowMore:$(".reward-user-box")};p.rewardItem.on("click",function(){getCookie("UserName")?$.ajax({url:blogUrl+"pheapi/reward/coin",type:"GET",xhrFields:{withCredentials:!0},success:function(t){t.status?(p.coinNum=t.data.coin,r(p.coinNumInit>=p.coinNum||p.rewardBox.find(".choosed").data("id")>=p.coinNum?!1:!0)):r(!1),p.rewardBox.fadeIn(200)},error:function(){p.rewardBox.fadeIn(200)}}):window.csdn.loginBox.show()}),p.rewardBox.find(".choose_money").click(function(){p.rewardBox.find(".choose_money").removeClass("choosed"),$(this).addClass("choosed"),r($(this).data("id")<=p.coinNum?!0:!1)}),p.rewardBox.on("click",".reward-sure",function(){var t=p.rewardBox.find(".choosed").data("id"),e=articleDetailUrl.split("details/")[1];$.ajax({url:blogUrl+"pheapi/reward/reward_coin",type:"POST",data:{reward_coin:t,article_id:e},xhrFields:{withCredentials:!0},success:function(t){if(t.status){p.skinBoxshadow.html("");var e='<img style="position:fixed;margin:auto;left:0px;top:0px;right:0px;bottom:0px" src="'+blogUrl+'static_files/static_blog/images/reward.gif" alt="打赏" title="打赏">';p.skinBoxshadow.append(e),p.rewardBox.fadeOut(200),p.skinBoxshadow.fadeIn(200),setTimeout(function(){p.skinBoxshadow.fadeOut(200),p.skinBoxshadow.html(""),window.location.reload()},4e3)}else i(!1,t.msg),"余额不足"===t.msg&&r(!1)},error:function(t){i(!1,"操作失败，请重试")}})}),p.rewardBox.on("click",".reward-close",function(t){p.rewardBox.fadeOut(200);var e=t||window.e;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),$(".tool-subscribe").on("click",function(){$("#bt-click").trigger("click")}),$("#btnAttent").on("click",function(){c()}),$(".tool-attend").on("click",function(){$("#btnAttent").trigger("click")})}),"undefined"!=typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){return"undefined"==typeof Chart?void("undefined"!=typeof console&&console.log("ERROR: You must include chart.min.js on this page in order to use Chart.js")):void[].forEach.call(document.querySelectorAll("div.chartjs"),function(t){var e,o;e="undefined"!=typeof chartjs_colors?chartjs_colors:"undefined"!=typeof chartjs_colors_json?JSON.parse(chartjs_colors_json):{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,0.8)",highlightFill:"rgba(151,187,205,0.75)",highlightStroke:"rgba(151,187,205,1)",data:["#B33131","#B66F2D","#B6B330","#71B232","#33B22D","#31B272","#2DB5B5","#3172B6","#3232B6","#6E31B2","#B434AF","#B53071"]},o="undefined"!=typeof chartjs_config?chartjs_config:"undefined"!=typeof chartjs_config_json?JSON.parse(chartjs_config_json):{Bar:{animation:!1},Doughnut:{animateRotate:!1},Line:{animation:!1},Pie:{animateRotate:!1},PolarArea:{animateRotate:!1}};var n=t.getAttribute("data-chart"),i=JSON.parse(t.getAttribute("data-chart-value"));if(i&&i.length&&n){t.innerHTML="";var a=document.createElement("canvas");a.height=t.getAttribute("data-chart-height"),t.appendChild(a);var s=document.createElement("div");s.setAttribute("class","chartjs-legend"),t.appendChild(s);var r,c=a.getContext("2d"),l=new Chart(c);if("bar"!=n)for(r=0;r<i.length;r++)i[r].color=e.data[r],i[r].highlight=e.data[r];if("bar"==n||"line"==n){var d={datasets:[{label:"",fillColor:e.fillColor,strokeColor:e.strokeColor,highlightFill:e.highlightFill,highlightStroke:e.highlightStroke,data:[]}],labels:[]};for(r=0;r<i.length;r++)i[r].value&&(d.labels.push(i[r].label),d.datasets[0].data.push(i[r].value));s.innerHTML=""}"bar"==n?l.Bar(d,o.Bar):"line"==n?l.Line(d,o.Line):"polar"==n?s.innerHTML=l.PolarArea(i,o.PolarArea).generateLegend():"pie"==n?s.innerHTML=l.Pie(i,o.Pie).generateLegend():s.innerHTML=l.Doughnut(i,o.Doughnut).generateLegend()}})}),$(function(){new CSDNviewImg("#content_views");$("#content_views").find("a").click(function(t){if(this.href&&"_self"!==this.target){t.preventDefault();var e=window.open(this.href,"_blank");e.focus()}})}),$(function(){function t(t,e,n){$.get(blog_address+"/phoenix/article/privacy?articleId="+t+"&index="+e+"&reason="+n,function(t){var e=t;e.result?(alert("文章已私密！"),location.reload()):e.content?o(e.content):alert("无法私密，请到后台私密！")})}function o(t){$(".super-private").hide(),$(".private-error").height(126).show().children(".private-content").text(t)}function n(){$(".private-form").removeClass("active").addClass("no-active")}var a={markdown_line:function(){$(".markdown_views pre").addClass("prettyprint"),$("pre.prettyprint code").each(function(){var t=$(this).text().split("\n").length+($(this).hasClass("hljs")?1:0),e=$("<ul/>").addClass("pre-numbering").hide();for($(this).addClass("has-numbering").parent().append(e),i=1;i<t;i++)e.append($("<li/>").text(i));e.fadeIn(1700)}),$(".pre-numbering li").css("color","#999"),setTimeout(function(){$(".math").each(function(t,e){$(this).find("span").last().css("color","#fff")})}),setTimeout(function(){$(".toc a[target='_blank']").attr("target",""),$("a.reversefootnote,a.footnote").attr("target","")},500)},html_line:function(){function t(){$(".CopyToClipboard").each(function(){var t=new ZeroClipboard.Client;t.setHandCursor(!0),t.addEventListener("load",function(t){}),t.addEventListener("mouseOver",function(t){var e=t.movie.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),t.setText(e)}),t.addEventListener("complete",function(t,e){alert("代码已经复制到你的剪贴板。")}),t.glue(this,this.parentNode)})}$(".article_content pre").each(function(){var t=$(this);try{if(t.attr("class").indexOf("brush:")!=-1){var e=t.attr("class").split(";")[0].split(":")[1];t.attr("name","code"),t.attr("class",e)}t.attr("class")&&t.attr("name","code")}catch(o){}}),$(".article_content textarea[name=code]").each(function(){var t=$(this);t.attr("class").indexOf(":")!=-1&&t.attr("class",t.attr("class").split(":")[0])}),$(".highlighter").each(function(t,e){hljs.highlightBlock(e),hljs.lineNumbersBlock(e)}),window.clipboardData||setTimeout(t,1e3)}},s=$(".markdown_views")[0];s?(a.markdown_line(),/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&window.csdn.setSafariCodestyle()):a.html_line(),$(document).on("click",".input-mod",function(){$(".select-option").show(),$(".select-button").removeClass("rotate0").addClass("rotate180")}),$(document).on("input porpertychange",".private-input",function(){n(),$(this).val().length>120&&$(this).val($(this).val().substr(0,120)),$(".textarea-box .number").text(120-$(this).val().length),$(this).val().length>0&&$(".private-form").removeClass("no-active").addClass("active")}),$(document).on("click",".select-option li",function(){$(".super-private").height(126),$(".private-content .other").hide(),n(),$(".select-active").text($(this).text()).data("index",$(this).data("index")),$(this).data("isinput")?($(".super-private").height(240),$(".private-content .other").show()):$(".private-form").removeClass("no-active").addClass("active"),$(".select-button").addClass("rotate0").removeClass("rotate180"),$(".select-option").fadeOut()}),$(document).on("click",".select-button",function(){"block"===$(".select-option").css("display")?($(".select-option").fadeOut(),$(this).removeClass("rotate180").addClass("rotate0")):($(this).removeClass("rotate0").addClass("rotate180"),$(".select-option").fadeIn()),e.stopPropagation(),e.cancelBubble=!0}),$(document).on("click",".private-close, .close-active",function(){$(".super-private").hide(),$(".mask-dark").hide()}),$(document).on("click",".private-footer .active",function(){var e=$(".select-active").data("index"),o=$(".reason").val();e||alert("请选择原因"),text="text",t(articleId,e,o)})}),$(function(){$("article").find("table").map(function(){$(this).wrap('<div class="table-box" />')})}),!function(t){function e(){var e=navigator.userAgent.toLowerCase();return t.ActiveXObject||"ActiveXObject"in t?"ie":e.indexOf("firefox")>=0?"firefox":e.indexOf("chrome")>=0?"chrome":e.indexOf("opera")>=0?"opera":e.indexOf("safari")>=0?"safari":void 0}var o=t.document,n=function(e,n,i,a,s,r){function c(t,o,i){var a=(t+o)/2;if(i<=0||o-t<r)return a;var s="("+e+":"+a+n+")";return l(s).matches?c(a,o,i-1):c(t,a,i-1)}var l,d,m,p;t.matchMedia?l=t.matchMedia:(d=o.getElementsByTagName("head")[0],m=o.createElement("style"),d.appendChild(m),p=o.createElement("div"),p.className="mediaQueryBinarySearch",p.style.display="none",o.body.appendChild(p),l=function(t){m.sheet.insertRule("@media "+t+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var e="underline"==getComputedStyle(p,null).textDecoration;return m.sheet.deleteRule(0),{matches:e}});var h=c(i,a,s);return p&&(d.removeChild(m),o.body.removeChild(p)),h},i={};i.ie=function(){return t.screen.deviceXDPI/t.screen.logicalXDPI},i.firefox=function(){return t.devicePixelRatio?t.devicePixelRatio:n("min--moz-device-pixel-ratio","",0,10,20,1e-4)},i.opera=function(){return t.outerWidth/t.innerWidth},i.chrome=function(){if(t.devicePixelRatio)return t.devicePixelRatio;var e=o.createElement("div");e.innerHTML="1",e.setAttribute("style","font:100px/1em sans-serif;-webkit-text-size-adjust:none;position: absolute;top:-100%;"),o.body.appendChild(e);var n=1e3/e.clientHeight;return n=Math.round(100*n)/100,o.body.removeChild(e),n},i.safari=function(){return t.outerWidth/t.innerWidth},t.detectZoom=function(){return i[e()]()}}(this),$(function(){function system(){var t=navigator.userAgent.toLowerCase();return t.indexOf("win")>=0?"win":t.indexOf("mac")>=0?"mac":void 0}function round2(number,fractionDigits){with(Math)return round(number*pow(10,fractionDigits))/pow(10,fractionDigits)}function iszoom(t){return"win"==t.system&&1!=t.zoom||("mac"==t.system&&t.zoom%1!=0&&t.zoom%2!=0||void 0)}function keyUpEvent(t){var e={win:{add:187,minus:189,origin:48},mac:{add:187,minus:189,origin:48}},o=e[system()];if(t.ctrlKey||t.metaKey)if(t.keyCode==o.add||t.keyCode==o.minus){var n={zoom:round2(detectZoom(),2),system:system()};LeftPopShow(iszoom(n),leftPopRendering,RenderData)}else t.keyCode!=o.add&&t.keyCode!=o.origin||BOXDOM.animate(CLOSEANI,2e3)}function keydownEvent(t){setTimeout(keyUpEvent,300,t)}function setStorage(t,e){return localStorage.setItem(t,e)}function getStorage(t){return localStorage.getItem(t)}function addStyles(t){var e=document.createElement("style");e.type="text/css",e.innerHTML=[".leftPop{width:330px;position: fixed;font-size: 12px;","box-shadow: 0 4px 8px 0 rgba(0,0,0,0.10);padding:16px 40px 16px 16px;z-index: 100;","}",".leftPop .leftPop-close{position: absolute;right: 20px;"+t,"cursor: pointer;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(e)}function leftPopRendering(t){var e=$(".leftPop");if(e.length>0)return e.stop(!0,!1).animate(t.animate,t.animateTime),!1;var o='<svg t="1536830466687" class="icon leftPop-close" viewBox="0 0 1024 1024" version="1.1" ><title>不再显示</title><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="15859"></path></svg>';e=$('<div class="leftPop">'+o+"</div>"),addStyles(t.closeColor),e.append(t.template).css(t.style),e.appendTo($("body")).delay(2e3).animate(t.animate,t.animateTime),BOXDOM=e,$(".leftPop-close").on("click",function(){e.stop(!0,!1).animate(t.closeAnimate,t.animateTime),setStorage("leftPop",0)})}function LeftPopShow(t,e,o){var n=getStorage("leftPop");t&&null==n?e(o):BOXDOM.stop(!0,!1).animate(o.closeAnimate,o.animateTime)}var zoomData={zoom:round2(detectZoom(),2),system:system()},BOXDOM=$("leftPop");CLOSEANI={right:"-100%"};var events={win:{even:"keyup",fun:keyUpEvent},mac:{even:"keydown",fun:keydownEvent}};$(window).on(events[system()].even,events[system()].fun);var RenderData={template:"<span>你的浏览器目前处于缩放状态，页面可能会出现错位现象，建议100%大小显示。</span>",style:{right:"-100%","background-color":"#EBF5FD",top:"100px","border-left":"4px solid #70B8F0"},closeColor:"fill:#70B8F0;",animate:{right:0},closeAnimate:CLOSEANI,animateTime:2e3};LeftPopShow(iszoom(zoomData),leftPopRendering,RenderData)});